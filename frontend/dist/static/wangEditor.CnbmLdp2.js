import{T as e,E as a}from"./@wangeditor.Cjvb5x3F.js";import{_ as o,y as l,h as t,z as d}from"./index.CmK67jVc.js";import{a as n}from"./element-plus.BU70F6Fx.js";import{s,r as u,k as r,Y as i,c as m,o as c,T as p,u as f,n as v}from"./@vue.CTPu-uAZ.js";const y=["id"],g=o({__name:"wangEditor",props:{modelValue:{type:String,default:""},mode:{type:String,default:"default"},readOnly:{type:Boolean,default:!1}},emits:["update:modelValue","fullscreen"],setup(o,{emit:g}){const _=s();let h=l(),w="weditor-"+d(15);const V=o,O=g,S=u(V.modelValue);r(S,e=>{O("update:modelValue",e)}),r(()=>V.modelValue,e=>{e!==S.value&&(S.value=e)});const C={excludeKeys:["group-video","emotion","todo","codeBlock","undo","redo","code","blockquote"]},I={placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9...",readOnly:V.readOnly,lineHeight:"1",scroll:!0,MENU_CONF:{uploadImage:{server:t.API_URL+"/api/system/sys_image_upload/",fieldName:"file",maxFileSize:5242880,allowedFileTypes:["image/*"],headers:{Authorization:t.TOKEN_PREFIX+h},meta:{},customInsert(e,a){if(2e3===e.code){let o="";o=e.data.data[0].indexOf("://")>=0?e.data.data[0]:t.API_URL+e.data.data[0],a(o,"","")}else n.warning("\u4e0a\u4f20\u5931\u8d25: "+e.msg)}},lineHeight:{lineHeightList:["0.5","1","1.5","2","2.5"]}}};i(()=>{const e=_.value;null!=e&&e.destroy()});let N=u(null);const x=async e=>{await v(),_.value=e,e.on("fullScreen",()=>{const e=document.querySelector(`#${w}.w-e-full-screen-container`);e&&!N.value&&(N.value=e.parentNode),e&&e.parentNode!==document.body&&document.body.appendChild(e)}),e.on("unFullScreen",()=>{const e=document.querySelector(`#${w}.editor-wrapper`);e&&N.value&&(N.value.appendChild(e),N.value=null)})};return(l,t)=>(c(),m("div",{class:"editor-wrapper",id:f(w)},[p(f(e),{class:"editor-toolbar",editor:_.value,defaultConfig:C,mode:o.mode},null,8,["editor","mode"]),p(f(a),{class:"editor-content",modelValue:S.value,"onUpdate:modelValue":t[0]||(t[0]=e=>S.value=e),defaultConfig:I,mode:o.mode,onOnCreated:x},null,8,["modelValue","mode"])],8,y))}},[["__scopeId","data-v-3cd1c88c"]]);export{g as R};
