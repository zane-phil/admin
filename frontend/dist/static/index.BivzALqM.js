import{j as e,r as l,b as a,k as t,al as n,c as s,o,M as i,T as u,a as r,L as c,S as d,a7 as m,X as p,G as f,K as v,O as h,R as b,Q as y,U as g,F as _,ar as k,u as C,l as x,P as w,Y as V,aA as M,V as j,n as L}from"./@vue.CTPu-uAZ.js";import{u as S,a as E}from"./vue-router.kfYy4LLd.js";import{_ as T,u as A,a as z,S as I,b as H,c as O,d as R,e as U,f as P,A as $,g as B,h as D}from"./index.CmK67jVc.js";import{u as W}from"./vue-i18n.Diqqvor5.js";import{d as Y}from"./avatar.DKeI_4yk.js";import{a as N,E as F}from"./element-plus.BU70F6Fx.js";import"./axios.DpIj8wd6.js";import"./crypto-js.CDMBIImi.js";import"./clipboard.DkQLcScs.js";import"./js-cookie.Ch5AnFJE.js";import"./pinia.zQpyPaWK.js";import"./@element-plus.DmP6zw14.js";import"./xe-utils.D2X37hqE.js";import"./sortablejs.C7MwSjUq.js";import"./file-saver.B7Ix4MNR.js";import"./lodash-es.inYd2OMh.js";import"./pinia-plugin-persistedstate.C_byIVBZ.js";import"./destr.WfmzGWA8.js";import"./deep-pick-omit.CDZeMyKV.js";import"./nprogress.CyzJYN2f.js";import"./@tsparticles.Csp0zpCD.js";import"./@vueuse.CxA-JytG.js";import"./@popperjs.CT_jBSb5.js";import"./@ctrl.D-8vaqgC.js";import"./dayjs.Gu-B5VJn.js";import"./async-validator.j0i5Y79Y.js";import"./memoize-one.BAtLgO95.js";import"./normalize-wheel-es.BhHBPXsK.js";import"./@floating-ui.CzXNizXq.js";import"./@intlify.CzB25nlE.js";const X={key:0,class:"tabs-view"},q={class:"tabs-list"},G=["onClick","onContextmenu"],K={class:"tabs-extra"},Q={key:1,class:"mobile-tabs-view"},J={class:"mobile-tabs-current"},Z={class:"mobile-tab-item"},ee=T({__name:"TabsView",setup(k){const C=S(),x=E(),w=A(),V=z(),M=e(()=>w.ismobile),j=e(()=>V.tabsList),L=e(()=>V.activeTab),T=e(()=>{const e=j.value.find(e=>e.path===L.value);return e?.title||""}),I=l(!1),H=l(0),O=l(0),R=l(null),U=e=>{V.removeTab(e.path)},P=()=>{I.value=!1},$=()=>{R.value&&V.refreshTab(R.value.path),P()},B=()=>{R.value&&V.closeOtherTabs(R.value.path),P()},D=()=>{V.closeAllTabs(),P()},W=e=>{switch(e){case"refresh":V.refreshTab(L.value);break;case"closeOther":V.closeOtherTabs(L.value);break;case"closeAll":V.closeAllTabs()}},Y=e=>{"closeOther"===e?V.closeOtherTabs(L.value):"closeAll"===e?V.closeAllTabs():C.push(e)},N=e=>{e.target.closest(".tabs-contextmenu")||P()};return a(()=>{document.addEventListener("click",N)}),t(()=>x.path,e=>{const l={path:e,title:x.meta?.title||"\u672a\u547d\u540d",meta:x.meta,name:x.name};V.addTab(l)},{immediate:!0}),(e,l)=>{const a=n("Close"),t=n("el-icon"),k=n("el-scrollbar"),x=n("ArrowDown"),w=n("el-dropdown-item"),V=n("el-dropdown-menu"),S=n("el-dropdown");return o(),s("div",{class:f(["tabs-view-container",{"mobile-tabs":M.value}])},[M.value?(o(),s("div",Q,[u(S,{trigger:"click",onCommand:Y},{dropdown:c(()=>[u(V,null,{default:c(()=>[(o(!0),s(d,null,m(j.value,e=>(o(),v(w,{key:e.path,command:e.path,class:f({"is-active":e.path===L.value})},{default:c(()=>[r("div",Z,[r("span",null,b(e.title),1),e.meta?.affix?h("",!0):(o(),v(t,{key:0,class:"mobile-tab-close",onClick:p(l=>U(e),["stop"])},{default:c(()=>[u(a)]),_:2},1032,["onClick"]))])]),_:2},1032,["command","class"]))),128)),u(w,{divided:"",command:"closeOther"},{default:c(()=>[...l[3]||(l[3]=[y(" \u5173\u95ed\u5176\u4ed6 ",-1)])]),_:1}),u(w,{command:"closeAll"},{default:c(()=>[...l[4]||(l[4]=[y("\u5173\u95ed\u6240\u6709",-1)])]),_:1})]),_:1})]),default:c(()=>[r("div",J,[r("span",null,b(T.value),1),u(t,{class:"mobile-tabs-icon"},{default:c(()=>[u(x)]),_:1})])]),_:1})])):(o(),s("div",X,[u(k,{class:"tabscrollbar"},{default:c(()=>[r("div",q,[(o(!0),s(d,null,m(j.value,e=>(o(),s("div",{key:e.path,class:f(["tabs-item",{"is-active":e.path===L.value}]),onClick:l=>(e=>{C.push(e.path)})(e),onContextmenu:p(l=>((e,l)=>{I.value=!0,H.value=e.clientX,O.value=e.clientY,R.value=l})(l,e),["prevent"])},[r("span",null,b(e.title),1),e.meta?.affix?h("",!0):(o(),v(t,{key:0,class:"tabs-close",onClick:p(l=>U(e),["stop"])},{default:c(()=>[u(a)]),_:2},1032,["onClick"]))],42,G))),128))])]),_:1}),r("div",K,[u(S,{trigger:"click",onCommand:W},{dropdown:c(()=>[u(V,null,{default:c(()=>[u(w,{command:"closeOther"},{default:c(()=>[...l[0]||(l[0]=[y("\u5173\u95ed\u5176\u4ed6",-1)])]),_:1}),u(w,{command:"closeAll"},{default:c(()=>[...l[1]||(l[1]=[y("\u5173\u95ed\u6240\u6709",-1)])]),_:1}),u(w,{command:"refresh"},{default:c(()=>[...l[2]||(l[2]=[y("\u5237\u65b0\u5f53\u524d",-1)])]),_:1})]),_:1})]),default:c(()=>[u(t,{class:"tabs-dropdown-icon"},{default:c(()=>[u(x)]),_:1})]),_:1})])])),i(r("ul",{class:"tabs-contextmenu",style:_({left:H.value+"px",top:O.value+"px"})},[r("li",{onClick:$},"\u5237\u65b0"),r("li",{onClick:B},"\u5173\u95ed\u5176\u4ed6"),r("li",{onClick:D},"\u5173\u95ed\u6240\u6709"),r("li",{onClick:P},"\u53d6\u6d88")],4),[[g,I.value]])],2)}}},[["__scopeId","data-v-359048d5"]]),le={key:0,style:{padding:"20px"}},ae={__name:"NavMenu",props:{navMenus:{type:Array,default:[]}},emits:["contextmenuClick"],setup(l,{emit:a}){const t=a,i=e(()=>e=>e.children&&!e.children.every(e=>e.meta.hidden));function p(e,l){t("contextmenuClick",e,l)}return(e,a)=>{const t=n("el-alert"),f=n("el-menu-item"),y=n("NavMenu",!0),g=n("el-sub-menu");return o(),s(d,null,[l.navMenus.length<=0?(o(),s("div",le,[u(t,{title:"\u65e0\u83dc\u5355",center:"",type:"info",closable:!1})])):h("",!0),(o(!0),s(d,null,m(l.navMenus,e=>(o(),s(d,{key:e.path},[i.value(e)?(o(),v(g,{key:1,index:e.path,"data-id":e.path,onContextmenu:l=>p(l,e.path)},{title:c(()=>[e.meta?.icon?(o(),v(I,{key:0,"icon-class":e.meta?.icon,style:{"font-size":"20px !important"}},null,8,["icon-class"])):h("",!0),r("span",null,b(e.meta.title),1)]),default:c(()=>[u(y,{navMenus:e.children},null,8,["navMenus"])]),_:2},1032,["index","data-id","onContextmenu"])):(o(),v(f,{key:0,index:e.path,"data-id":e.path,onContextmenu:l=>p(l,e.path)},{title:c(()=>[r("span",null,b(e.meta.title),1)]),default:c(()=>[e.meta?.icon?(o(),v(I,{key:0,"icon-class":e.meta?.icon},null,8,["icon-class"])):h("",!0)]),_:2},1032,["index","data-id","onContextmenu"]))],64))),128))],64)}}},te={class:"logo-bar"},ne={class:"headertitle"},se=T({__name:"sideMobile",setup(e){const t=H(),m=A(),p=E(),f=O();let v=l(!1),h=l([]),y=l(null);function g(e){var l=[];return e&&e.forEach(e=>{if(e.meta=e.meta?e.meta:{},e.meta.hidden||"button"==e.meta.type)return!1;"iframe"==e.meta.type&&(e.path=`/i/${e.name}`),e.children&&e.children.length>0&&(e.children=g(e.children)),l.push(e)}),l}let _=l(null);function w(){_.value.handleClose()}return a(()=>{h.value=g(f.routesList)}),(e,l)=>{const a=n("Menu"),f=n("el-icon"),g=n("ly-img"),V=n("el-header"),M=n("el-menu"),j=n("el-scrollbar"),L=n("el-main"),S=n("el-container"),E=n("el-drawer"),T=k("drag");return o(),s(d,null,[i((o(),s("div",{ref_key:"mobileDraggableButton",ref:y,class:"mobile-nav-button",onClick:l[0]||(l[0]=e=>function(e){if("true"==e.currentTarget.getAttribute("drag-flag"))return!1;v.value=!0}(e))},[u(f,null,{default:c(()=>[u(a)]),_:1})])),[[T]]),u(E,{ref_key:"mobileNavMenuBox",ref:_,title:"\u79fb\u52a8\u7aef\u83dc\u5355",size:200,modelValue:C(v),"onUpdate:modelValue":l[1]||(l[1]=e=>x(v)?v.value=e:v=e),direction:"ltr","with-header":!1,"destroy-on-close":""},{default:c(()=>[u(S,{class:"mobile-nav"},{default:c(()=>[u(V,{class:"mobileheader"},{default:c(()=>[r("div",te,[u(g,{class:"logo",src:C(t).sysConfig.logo},null,8,["src"])]),r("span",ne,b(C(t).sysConfig.systitle),1)]),_:1}),u(L,null,{default:c(()=>[u(j,{class:"lylybbnmobilenavside"},{default:c(()=>[u(M,{"default-active":C(p).meta.active||C(p).fullPath,onSelect:w,router:"","background-color":"dark"==C(m).siteTheme?"#141414":"#272E39","text-color":"#fff","active-text-color":"var(--el-color-primary)"},{default:c(()=>[u(ae,{navMenus:C(h)},null,8,["navMenus"])]),_:1},8,["default-active","background-color"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-321457d8"]]),oe={class:"lysearch"},ie={key:0,class:"lysearch-history"},ue={class:"lysearch-result"},re={key:0,class:"lysearch-no-result"},ce={key:1},de=["onClick"],me={class:"title"},pe={__name:"search",emits:["success"],setup(e,{emit:t}){const i=t,p=S();let f=l(null),g=l(""),_=l([]),k=l([]),V=l([]);function M(e){k.value=e?function(e){var l=[],a=_.value.filter(l=>l.meta.title.toLowerCase().indexOf(e.toLowerCase())>=0||(l.name.toLowerCase().indexOf(e.toLowerCase())>=0||void 0)),t=t.getRoutes(),n=a.map(e=>"link"==e.meta.type?t.find(l=>l.path=="/"+e.path):t.find(l=>l.path==e.path));return n.forEach(e=>{l.push({name:e.name,type:e.meta.type,path:"link"==e.meta.type?e.path.slice(1):e.path,icon:e.meta.icon,title:e.meta.title,breadcrumb:e.meta.breadcrumb.map(e=>e.meta.title).join(" - ")})}),l}(e):[]}function j(e){e.forEach(e=>{if(e.meta.hidden||"button"==e.meta.type)return!1;"iframe"==e.meta.type&&(e.path=`/i/${e.name}`),e.children&&e.children.length>0&&!e.component?j(e.children):_.value.push(e)})}return a(()=>{var e=R.get("SEARCH_HISTORY")||[];V.value=e,j(p.getRoutes()),f.value.focus()}),(e,l)=>{const a=n("el-input"),t=n("el-tag"),_=n("el-icon"),j=n("el-scrollbar");return o(),s("div",oe,[u(a,{ref_key:"refInput",ref:f,modelValue:C(g),"onUpdate:modelValue":l[0]||(l[0]=e=>x(g)?g.value=e:g=e),placeholder:"\u641c\u7d22",size:"large",clearable:"","prefix-icon":"search","trigger-on-focus":!1,onInput:M},null,8,["modelValue"]),C(V).length>0?(o(),s("div",ie,[(o(!0),s(d,null,m(C(V),(e,l)=>(o(),v(t,{closable:"",effect:"dark",type:"info",key:e,onClick:l=>{return a=e,g.value=a,void M(a);var a},onClose:e=>function(e){V.value.splice(e,1),V.value.length<=0?R.remove("SEARCH_HISTORY"):R.set("SEARCH_HISTORY",this.history)}(l)},{default:c(()=>[y(b(e),1)]),_:2},1032,["onClick","onClose"]))),128))])):h("",!0),r("div",ue,[C(k).length<=0?(o(),s("div",re,"\u6682\u65e0\u641c\u7d22\u7ed3\u679c")):(o(),s("ul",ce,[u(j,{"max-height":"366px"},{default:c(()=>[(o(!0),s(d,null,m(C(k),e=>(o(),s("li",{key:e.path,onClick:l=>function(e){V.value.includes(this.input)||(V.value.push(this.input),R.set("SEARCH_HISTORY",this.history)),"link"==e.type?setTimeout(()=>{let l=document.createElement("a");l.style="display: none",l.target="_blank",l.href=e.path,document.body.appendChild(l),l.click(),document.body.removeChild(l)},10):p.push({path:e.path}),i("success",!0)}(e)},[u(_,null,{default:c(()=>[(o(),v(w(e.icon||"menu")))]),_:2},1024),r("span",me,b(e.breadcrumb),1)],8,de))),128))]),_:1})]))])])}}},fe=T(pe,[["__scopeId","data-v-dcb9c94e"]]),ve={class:"layout-drawer-content-flex"},he=T({__name:"lysettings",setup(e){const{t:a}=W(),t=A();let s=l(["#008040","#536dfe","#722ed1","#009688","#52c41a","#faad14","#ff5c93","#c62f2f","#fd726d"]),i=l(["#272E39","#3C444D","#465161","#222b45","#2c3643","#545c64","#009688","#52c41a","#faad14","#ff5c93"]),d=l(["#fff","#3C444D","#465161","#222b45","#2c3643","#545c64","#009688","#52c41a","#faad14","#ff5c93"]),m=l(t.colorPrimary||"#409EFF"),p=l(t.frameLayout||"default");function h(){t.setColorPrimary(m.value)}function b(e){p.value=e,t.setFrameLayout(p.value)}l(t.pagingLayout),l("light"!=t.siteTheme);let y=l(t.language||"zh-cn");function g(e){t.setLanguage(e)}l(t.programLayout);let _=l(t.elementSize);function k(e){t.setElementSize(e)}let w=l(t.menuHeaderColor01);function V(e){t.setMenuHeaderColor01(e)}let M=l(t.menuHeaderColor02);function j(e){t.setMenuHeaderColor02(e)}let L=l(parseInt(t.menuWidth));function S(e){t.setMenuWidth(e)}return(e,l)=>{const a=n("el-divider"),t=n("el-option"),E=n("el-select"),T=n("el-form-item"),A=n("el-color-picker"),z=n("el-input-number"),I=n("el-form");return o(),v(I,{ref:"form","label-width":"120px","label-position":"left",style:{padding:"0 20px"}},{default:c(()=>[u(a),u(T,{label:e.$t("frameSettings.language")},{default:c(()=>[u(E,{modelValue:C(y),"onUpdate:modelValue":l[0]||(l[0]=e=>x(y)?y.value=e:y=e),onChange:g},{default:c(()=>[u(t,{label:"\u7b80\u4f53\u4e2d\u6587",value:"zh-cn"}),u(t,{label:"English",value:"en"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),u(a),u(T,{label:e.$t("frameSettings.framebuju")},{default:c(()=>[r("div",ve,[r("div",{class:"layout-drawer-content-item",onClick:l[1]||(l[1]=e=>b("default"))},[r("section",{class:f(["el-container is-vertical el-circular",{"drawer-layout-active":"default"===C(p)}])},[...l[9]||(l[9]=[r("header",{class:"el-header",style:{height:"10px"}},null,-1),r("section",{class:"el-container"},[r("aside",{class:"el-aside",style:{width:"20px"}}),r("section",{class:"el-container is-vertical"},[r("main",{class:"el-main"})])],-1)])],2),r("div",{class:f(["layout-tips-warp",{"layout-tips-warp-active":"default"===C(p)}])},[...l[10]||(l[10]=[r("div",{class:"layout-tips-box"},[r("p",{class:"layout-tips-txt"},"\u7ecf\u5178")],-1)])],2)]),r("div",{class:"layout-drawer-content-item",onClick:l[2]||(l[2]=e=>b("header"))},[r("section",{class:f(["el-container is-vertical el-circular",{"drawer-layout-active":"header"===C(p)}])},[...l[11]||(l[11]=[r("header",{class:"el-header",style:{height:"10px"}},null,-1),r("section",{class:"el-container"},[r("section",{class:"el-container is-vertical"},[r("main",{class:"el-main"})])],-1)])],2),r("div",{class:f(["layout-tips-warp",{"layout-tips-warp-active":"header"===C(p)}])},[...l[12]||(l[12]=[r("div",{class:"layout-tips-box"},[r("p",{class:"layout-tips-txt"},"\u9876\u90e8")],-1)])],2)]),r("div",{class:"layout-drawer-content-item",onClick:l[3]||(l[3]=e=>b("fenlan"))},[r("section",{class:f(["el-container",{"drawer-layout-active":"fenlan"===C(p)}])},[...l[13]||(l[13]=[r("section",{class:"el-container is-vertical"},[r("header",{class:"el-header",style:{height:"10px"}}),r("section",{class:"el-container"},[r("aside",{class:"el-aside-dark",style:{width:"10px"}}),r("aside",{class:"el-aside",style:{width:"20px"}}),r("main",{class:"el-main"})])],-1)])],2),r("div",{class:f(["layout-tips-warp",{"layout-tips-warp-active":"fenlan"===C(p)}])},[...l[14]||(l[14]=[r("div",{class:"layout-tips-box"},[r("p",{class:"layout-tips-txt"},"\u5206\u680f")],-1)])],2)])])]),_:1},8,["label"]),u(a),u(T,{label:e.$t("frameSettings.themecolor")},{default:c(()=>[u(A,{modelValue:C(m),"onUpdate:modelValue":l[4]||(l[4]=e=>x(m)?m.value=e:m=e),predefine:C(s),onChange:h},null,8,["modelValue","predefine"])]),_:1},8,["label"]),u(T,{label:e.$t("frameSettings.headercolor")},{default:c(()=>[u(A,{modelValue:C(w),"onUpdate:modelValue":l[5]||(l[5]=e=>x(w)?w.value=e:w=e),predefine:C(i),onChange:V},null,8,["modelValue","predefine"])]),_:1},8,["label"]),u(T,{label:e.$t("frameSettings.menucolor")},{default:c(()=>[u(A,{modelValue:C(M),"onUpdate:modelValue":l[6]||(l[6]=e=>x(M)?M.value=e:M=e),predefine:C(d),onChange:j},null,8,["modelValue","predefine"])]),_:1},8,["label"]),u(T,{label:e.$t("frameSettings.menuwidth")+"(px)"},{default:c(()=>[u(z,{modelValue:C(L),"onUpdate:modelValue":l[7]||(l[7]=e=>x(L)?L.value=e:L=e),onChange:S,style:{width:"100%"}},null,8,["modelValue"])]),_:1},8,["label"]),u(a),u(T,{label:e.$t("frameSettings.componentsize")},{default:c(()=>[u(E,{modelValue:C(_),"onUpdate:modelValue":l[8]||(l[8]=e=>x(_)?_.value=e:_=e),placeholder:"\u8bf7\u9009\u62e9",onChange:k},{default:c(()=>[u(t,{label:"\u9ed8\u8ba4",value:"default"}),u(t,{label:"\u5c0f",value:"small"}),u(t,{label:"\u5927",value:"large"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),u(a)]),_:1},512)}}},[["__scopeId","data-v-c19ce271"]]),be={class:"user-bar"},ye={class:"msg-list"},ge=["href"],_e={class:"msg-list__main"},ke=["innerHTML"],Ce={class:"msg-list__time"},xe={class:"profile-content"},we={class:"profile-info"},Ve={class:"profile-name"},Me=T({__name:"userbar",setup(e){const t=U(),p=S(),f=A(),g=H();let _=l(!1),w=l(!1),V=l(!1),M=l([]);l(!1);let j=l(!1),L=l(f.language||"zh-cn");function E(){var e=document.documentElement;P(e)}function T(){V.value=!0,j.value=!0,$.getOwnMessage({is_read:!1,page:1,limit:999}).then(e=>{j.value=!1,2e3===e.code?M.value=e.data.data:N.warning(e.msg)})}function z(){M.value.length<1||$.readOwnMessage({type:"ALL"}).then(e=>{2e3===e.code?(N.success(e.msg),M.value=[],t.setUnread(0)):N.warning(e.msg)})}function I(){if("light"==f.siteTheme)f.setSiteTheme("dark");else{f.setSiteTheme("light");const e=f.menuHeaderColor01,l=f.menuHeaderColor02;f.setMenuHeaderColor01(e),f.setMenuHeaderColor02(l)}}function O(e){"clearCache"==e||("personCenter"==e?p.push({name:"PersonalCenter"}):"outLogin"==e&&F.confirm("\u9000\u51fa\u767b\u5f55, \u662f\u5426\u7ee7\u7eed?","\u63d0\u793a",{confirmButtonText:"\u786e\u5b9a",cancelButtonText:"\u53d6\u6d88",type:"warning"}).then(()=>{R.clearAll(),p.push("/login"),N.success("\u5df2\u9000\u51fa\u767b\u5f55!")}).catch(()=>{}))}function B(){_.value=!0}function D(e){L.value=e,f.setLanguage(e)}return a(()=>{g.getSystemUserInfo()}),(e,l)=>{const a=n("el-dropdown-item"),p=n("el-dropdown-menu"),S=n("el-dropdown"),A=n("FullScreen"),H=n("el-icon"),R=n("ChatDotRound"),U=n("el-tooltip"),P=n("el-badge"),$=n("el-empty"),W=n("el-scrollbar"),N=n("el-main"),F=n("el-button"),X=n("el-footer"),q=n("el-container"),G=n("el-drawer"),K=n("Sunny"),Q=n("Moon"),J=n("el-avatar"),Z=n("ArrowDown"),ee=n("User"),le=n("Operation"),ae=n("SwitchButton"),te=n("el-dialog"),ne=k("loading");return o(),s(d,null,[r("div",be,[u(S,{trigger:"click",onCommand:D,style:{height:"100%"}},{dropdown:c(()=>[u(p,null,{default:c(()=>[u(a,{command:"zh-cn",disabled:"zh-cn"===C(L)},{default:c(()=>[...l[4]||(l[4]=[y(" \u7b80\u4f53\u4e2d\u6587 ",-1)])]),_:1},8,["disabled"]),u(a,{command:"en",disabled:"en"===C(L)},{default:c(()=>[...l[5]||(l[5]=[y(" English ",-1)])]),_:1},8,["disabled"])]),_:1})]),default:c(()=>[l[6]||(l[6]=r("div",{class:"changlang panel-item"},[r("svg",{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},[r("path",{fill:"currentColor",d:"m18.5 10l4.4 11h-2.155l-1.201-3h-4.09l-1.199 3h-2.154L16.5 10h2zM10 2v2h6v2h-1.968a18.222 18.222 0 0 1-3.62 6.301a14.864 14.864 0 0 0 2.336 1.707l-.751 1.878A17.015 17.015 0 0 1 9 13.725a16.676 16.676 0 0 1-6.201 3.548l-.536-1.929a14.7 14.7 0 0 0 5.327-3.042A18.078 18.078 0 0 1 4.767 8h2.24A16.032 16.032 0 0 0 9 10.877a16.165 16.165 0 0 0 2.91-4.876L2 6V4h6V2h2zm7.5 10.885L16.253 16h2.492L17.5 12.885z"})])],-1))]),_:1}),r("div",{class:"screen panel-item",onClick:E},[u(H,null,{default:c(()=>[u(A)]),_:1})]),r("div",{class:"msg panel-item",onClick:T},[u(P,{hidden:0==C(t).msgInfo.msgNumber,value:C(t).msgInfo.msgNumber,class:"badge",type:"danger"},{default:c(()=>[u(U,{effect:"dark",content:"\u6d88\u606f\u5217\u8868",placement:"bottom"},{default:c(()=>[u(H,null,{default:c(()=>[u(R)]),_:1})]),_:1})]),_:1},8,["hidden","value"]),u(G,{title:"\u65b0\u6d88\u606f",modelValue:C(V),"onUpdate:modelValue":l[0]||(l[0]=e=>x(V)?V.value=e:V=e),size:600,"append-to-body":"","destroy-on-close":""},{default:c(()=>[u(q,null,{default:c(()=>[i((o(),v(N,{class:"nopadding"},{default:c(()=>[u(W,null,{default:c(()=>[r("ul",ye,[(o(!0),s(d,null,m(C(M),e=>(o(),s("li",{key:e.id},[r("a",{href:e.link,target:"_blank"},[r("div",_e,[r("h2",null,b(e.notification.title),1),r("p",{innerHTML:e.notification.content},null,8,ke)]),r("div",Ce,[r("p",null,b(e.notification.create_datetime),1)])],8,ge)]))),128)),0==C(M).length?(o(),v($,{key:0,description:"\u6682\u65e0\u65b0\u6d88\u606f","image-size":100})):h("",!0)])]),_:1})]),_:1})),[[ne,C(j)]]),u(X,null,{default:c(()=>[u(F,{onClick:z},{default:c(()=>[...l[7]||(l[7]=[y("\u5168\u90e8\u8bbe\u4e3a\u5df2\u8bfb",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),r("div",{class:"theme panel-item",onClick:I},["dark"==C(f).siteTheme?(o(),v(H,{key:0},{default:c(()=>[u(K)]),_:1})):(o(),v(H,{key:1},{default:c(()=>[u(Q)]),_:1}))]),u(S,{class:"user-profile",onCommand:O},{dropdown:c(()=>[u(p,{class:"profile-menu"},{default:c(()=>[u(a,{command:"personCenter"},{default:c(()=>[u(H,null,{default:c(()=>[u(ee)]),_:1}),l[8]||(l[8]=y("\u4e2a\u4eba\u4e2d\u5fc3 ",-1))]),_:1}),u(a,{onClick:B},{default:c(()=>[u(H,null,{default:c(()=>[u(le)]),_:1}),l[9]||(l[9]=y("\u5e03\u5c40\u8bbe\u7f6e ",-1))]),_:1}),u(a,{divided:"",command:"outLogin"},{default:c(()=>[u(H,null,{default:c(()=>[u(ae)]),_:1}),l[10]||(l[10]=y("\u9000\u51fa\u767b\u5f55 ",-1))]),_:1})]),_:1})]),default:c(()=>[r("div",xe,[u(J,{size:30,src:C(g).userInfo.avatar||C(Y),class:"profile-avatar"},null,8,["src"]),r("div",we,[r("div",Ve,b(C(g).userInfo.name||"\u66f4\u591a"),1)]),u(H,{class:"profile-arrow"},{default:c(()=>[u(Z)]),_:1})])]),_:1})]),u(te,{modelValue:C(w),"onUpdate:modelValue":l[2]||(l[2]=e=>x(w)?w.value=e:w=e),width:700,title:"\u641c\u7d22",center:"","destroy-on-close":""},{default:c(()=>[u(fe,{onSuccess:l[1]||(l[1]=e=>x(w)?w.value=!1:w=!1)})]),_:1},8,["modelValue"]),u(G,{title:"\u5e03\u5c40\u8bbe\u7f6e",modelValue:C(_),"onUpdate:modelValue":l[3]||(l[3]=e=>x(_)?_.value=e:_=e),size:400,"append-to-body":"","destroy-on-close":""},{default:c(()=>[u(he)]),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-4ed87181"]]),je={class:"lybbn-panel-header"},Le={class:"lybbn-panel-header-left"},Se={class:"logo-bar"},Ee={key:0},Te={key:0,class:"lybbn-panel-header-center"},Ae={class:"lybbn-panel-header-right"},ze={class:"lybbn-panel-wrapper"},Ie={class:"lybbn-panel-side-scroll"},He={class:"lybbn-panel-body el-container"},Oe={class:"lybbn-panel-main",id:"lybbn-panel-main"},Re={class:"lybbn-panel-header"},Ue={class:"lybbn-panel-header-left"},Pe={class:"logo-bar"},$e={key:0},Be={key:0,class:"lybbn-header-menu",style:{"margin-left":"20px","margin-right":"20px"}},De={key:1,class:"lybbn-panel-header-center"},We={class:"lybbn-panel-header-right"},Ye={class:"lybbn-panel-wrapper"},Ne={class:"lybbn-panel-body el-container"},Fe={class:"lybbn-panel-main",id:"lybbn-panel-main"},Xe={class:"lybbn-panel-header"},qe={class:"lybbn-panel-header-left"},Ge={class:"logo-bar"},Ke={key:0},Qe={key:0,class:"lybbn-panel-header-center"},Je={class:"lybbn-panel-header-right"},Ze={class:"lybbn-panel-wrapper"},el={key:0,class:"lybbn-panel-side-split"},ll={class:"lybbn-panel-side-scroll"},al=["onClick"],tl={class:"lybbn-panel-side-scroll"},nl={class:"lybbn-panel-body el-container"},sl={class:"lybbn-panel-main",id:"lybbn-panel-main"},ol={key:3},il=T({__name:"index",setup(t){const p=E(),y=S(),k=A(),x=B(),T=O(),z=H();let I=l({}),R=l([]),U=l(""),P=l(!1),$=l(0),W=l(0),Y=e(()=>k.ismobile),N=e(()=>k.ismultitabs),F=e(()=>k.isMenuCollapse);function X(){k.setMenuCollapsed(!F.value),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},1e3)}function q(){document.getElementById("app").classList.remove("main-maximize")}function G(e=!0){L(()=>{e&&(I.value=p.meta.breadcrumb?p.meta.breadcrumb[0]:{},R.value=ie(I.value.children)),p.meta&&p.meta.activeMenu?U.value=p.meta.activeMenu:U.value=p.path})}function K(){L(()=>{k.setIsmobile(document.body.clientWidth<992)})}function Q(){P.value=!1}let J=l(null);function Z(e){J.value&&!J.value.contains(e.target)&&Q()}let le=l("");function te(){if(le.value){let e=window.location.origin;window.open(e+"/#"+le.value,"_blank")}Q()}function ne(){le.value&&(p.path==le.value?window.location.reload():y.push({path:le.value})),Q()}function oe(e,l){l&&(e.preventDefault(),e.stopPropagation(),le.value=l,P.value=!0,$.value=e.clientX+1,W.value=e.clientY+1,L(()=>{let l=document.getElementById("lyleftMenuContext");document.body.offsetWidth-e.clientX<l.offsetWidth&&($.value=document.body.offsetWidth-l.offsetWidth-1,W.value=e.clientY+1)}))}function ie(e){var l=[];return e&&e.forEach(e=>{if(e.meta=e.meta?e.meta:{},e.meta?.hidden)return!1;e.children&&e.children.length>0&&(e.children=ie(e.children),0===e.children.length&&delete e.children),l.push(e)}),l}l({c_ver:z.sysConfig.sysVersion,can_update:!1,n_ver:""});let ue=e(()=>ie(T.routesList));function re(){window.open("https://doc.lybbn.cn")}return a(()=>{z.getSystemConfig(),K(),z.getSystemWebRouter(y),window.addEventListener("resize",K),G(),y.afterEach(()=>G(!1)),document.addEventListener("click",Z),z.getMenuButtonPermission()}),V(()=>{window.removeEventListener("resize",K),document.removeEventListener("click",Z)}),(e,l)=>{const a=n("ly-img"),t=n("el-menu"),p=n("el-scrollbar"),V=n("expand"),L=n("fold"),S=n("el-icon"),E=n("router-view"),T=n("CopyDocument"),A=n("Refresh"),H=n("Close");return o(),s(d,null,["default"==C(k).frameLayout?(o(),s(d,{key:0},[r("header",je,[r("div",Le,[r("div",Se,[u(a,{class:"logo",src:C(z).sysConfig.logo},null,8,["src"]),C(Y)?h("",!0):(o(),s("span",Ee,b(C(z).sysConfig.systitle),1))])]),C(Y)?h("",!0):(o(),s("div",Te,[l[0]||(l[0]=r("a",{href:"https://doc.lybbn.cn/",target:"_blank"},"Copyright \xa9 lybbn",-1)),r("span",{style:{cursor:"pointer","padding-right":"8px","margin-left":"5px"},onClick:re},"v"+b(C(z).sysConfig.sysVersion),1)])),r("div",Ae,[u(Me)])]),r("section",ze,[C(Y)?h("",!0):(o(),s("div",{key:0,class:f(C(F)?"lybbn-panel-side isCollapse":"lybbn-panel-side")},[r("div",Ie,[u(p,null,{default:c(()=>[u(t,{class:"rymenu","default-active":C(U),router:"",collapse:C(F),"unique-opened":!0,"collapse-transition":!1},{default:c(()=>[u(ae,{navMenus:C(ue),onContextmenuClick:oe},null,8,["navMenus"])]),_:1},8,["default-active","collapse"])]),_:1})]),r("div",{class:"lybbn-panel-side-bottom",onClick:X},[u(S,null,{default:c(()=>[C(F)?(o(),v(V,{key:0})):(o(),v(L,{key:1}))]),_:1})])],2)),C(Y)?(o(),v(se,{key:1})):h("",!0),r("div",He,[C(N)?(o(),v(ee,{key:0})):h("",!0),r("div",Oe,[u(E,null,{default:c(({Component:e,route:l})=>[(o(),v(M,{include:C(x).keepAliveRoute},[C(x).routeShow?(o(),v(w(e),{key:l.path})):h("",!0)],1032,["include"]))]),_:1})])])])],64)):"header"==C(k).frameLayout?(o(),s(d,{key:1},[r("header",Re,[r("div",Ue,[r("div",Pe,[u(a,{class:"logo",src:C(z).sysConfig.logo},null,8,["src"]),C(Y)?h("",!0):(o(),s("span",$e,b(C(D).APP_NAME),1))])]),C(Y)?h("",!0):(o(),s("div",Be,[u(t,{mode:"horizontal",ellipsis:"","default-active":C(U),style:{width:"100%","overflow-x":"auto","overflow-y":"hidden"},router:"","background-color":"var(--ly-header-bg)","text-color":"#fff","active-text-color":"var(--el-color-primary-light-1)"},{default:c(()=>[u(ae,{navMenus:C(ue)},null,8,["navMenus"])]),_:1},8,["default-active"])])),C(Y)?h("",!0):(o(),s("div",De,[l[1]||(l[1]=r("a",{href:"https://doc.lybbn.cn/",target:"_blank"},"Copyright \xa9 lybbn",-1)),r("span",{style:{cursor:"pointer","padding-right":"8px","margin-left":"5px"},onClick:re},"v"+b(C(z).sysConfig.sysVersion),1)])),C(Y)?(o(),v(se,{key:2})):h("",!0),r("div",We,[u(Me)])]),r("section",Ye,[r("div",Ne,[C(N)?(o(),v(ee,{key:0})):h("",!0),r("div",Fe,[u(E,null,{default:c(({Component:e,route:l})=>[(o(),v(M,{include:C(x).keepAliveRoute},[C(x).routeShow?(o(),v(w(e),{key:l.path})):h("",!0)],1032,["include"]))]),_:1})])])])],64)):"fenlan"==C(k).frameLayout?(o(),s(d,{key:2},[r("header",Xe,[r("div",qe,[r("div",Ge,[u(a,{class:"logo",src:C(z).sysConfig.logo},null,8,["src"]),C(Y)?h("",!0):(o(),s("span",Ke,b(C(D).APP_NAME),1))])]),C(Y)?h("",!0):(o(),s("div",Qe,[l[2]||(l[2]=r("a",{href:"https://doc.lybbn.cn/",target:"_blank"},"Copyright \xa9 lybbn",-1)),r("span",{style:{cursor:"pointer","padding-right":"8px","margin-left":"5px"},onClick:re},"v"+b(C(z).sysConfig.sysVersion),1)])),r("div",Je,[u(Me)])]),r("section",Ze,[C(Y)?h("",!0):(o(),s("div",el,[r("div",ll,[u(p,null,{default:c(()=>[r("ul",null,[(o(!0),s(d,null,m(C(ue),e=>(o(),s("li",{key:e,class:f(C(I).path==e.path?"active":""),onClick:l=>function(e){I.value=e,R.value=ie(e.children),e.children&&0!=e.children.length||!e.component||(y.push({path:e.path}),R.value=[])}(e)},[u(S,null,{default:c(()=>[(o(),v(w(e.meta.icon||"menu")))]),_:2},1024),r("p",null,b(e.meta.title),1)],10,al))),128))])]),_:1})])])),!C(Y)&&C(R).length>0?(o(),s("div",{key:1,class:f(C(F)?"lybbn-panel-side isCollapse":"lybbn-panel-side")},[r("div",tl,[u(p,null,{default:c(()=>[u(t,{class:"rymenu","default-active":C(U),router:"",collapse:C(F),"unique-opened":!0,"collapse-transition":!1},{default:c(()=>[u(ae,{navMenus:C(R),onContextmenuClick:oe},null,8,["navMenus"])]),_:1},8,["default-active","collapse"])]),_:1})]),r("div",{class:"lybbn-panel-side-bottom",onClick:X},[u(S,null,{default:c(()=>[C(F)?(o(),v(V,{key:0})):(o(),v(L,{key:1}))]),_:1})])],2)):h("",!0),C(Y)?(o(),v(se,{key:2})):h("",!0),r("div",nl,[C(N)?(o(),v(ee,{key:0})):h("",!0),r("div",sl,[u(E,null,{default:c(({Component:e,route:l})=>[(o(),v(M,{include:C(x).keepAliveRoute},[C(x).routeShow?(o(),v(w(e),{key:l.path})):h("",!0)],1032,["include"]))]),_:1})])])])],64)):(o(),s("span",ol,"\u5185\u90e8\u5e03\u5c40\u9519\u8bef")),u(j,{name:"el-zoom-in-top"},{default:c(()=>[i(r("ul",{style:_({left:C($)+"px",top:C(W)+"px"}),class:"contextmenu",id:"lyleftMenuContext",ref_key:"lyleftMenuContext",ref:J},[r("li",{onClick:te},[u(S,null,{default:c(()=>[u(T)]),_:1}),l[3]||(l[3]=r("span",{class:"contextmenu-text"},"\u65b0\u6807\u7b7e\u6253\u5f00",-1))]),r("li",{onClick:ne},[u(S,null,{default:c(()=>[u(A)]),_:1}),l[4]||(l[4]=r("span",{class:"contextmenu-text"},"\u5237\u65b0\u672c\u9875",-1))]),r("li",{onClick:Q},[u(S,null,{default:c(()=>[u(H)]),_:1}),l[5]||(l[5]=r("span",{class:"contextmenu-text"},"\u53d6\u6d88\u64cd\u4f5c",-1))])],4),[[g,C(P)]])]),_:1}),r("div",{class:"main-maximize-exit",onClick:q},[u(S,null,{default:c(()=>[u(H)]),_:1})])],64)}}},[["__scopeId","data-v-9fa6acfc"]]);export{il as default};
